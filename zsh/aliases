# A hack to fix clock drift on WSL
#update_clock () {
#    echo '[ROOT] Updating clock (sudo hwclock --hctosys)'
#    sudo hwclock -s
#    sudo ntpdate time.windows.com
#}

# Needed if using multiple version of PHP
#get_phpfpm () {
#    unset x
#    x=$(php -v | awk '{ print $2 }' | grep "8" | cut -b 1-3)
#    echo "php$x-fpm"
#}

# Global stuff
#alias vim=nvim
alias zshconf="vim ~/.zshrc"
alias ohmyzsh="vim ~/.oh-my-zsh"
alias showpath="echo -e \"${PATH//:/\n}\""
alias reload="omz reload"

# Eza (replacement for exa)
alias ll='eza -lbF --git'
alias la='eza -lbhHigmuSa --time-style=long-iso --git --color-scale'
alias lx='eza -lbhHigmuSa@ --time-style=long-iso --git --color-scale'
alias llt='eza -l --git --tree'
alias lt='eza --tree --level=2'
## Sorts
alias llm='eza -lbGF --git --sort=modified'
alias lld='eza -lbhHFGmuSa --group-directories-first'

# Laravel specific shortcuts
alias a="php artisan"
alias tinker="a tinker"
alias dbfresh="a migrate:fresh --seed"
#alias test="a test"
alias pest="./vendor/bin/pest"
alias pint="./vendor/bin/pint"
alias duster="./vendor/bin/duster"

# Composer & NPM shortcuts
alias dump="composer dump"
alias refresh="rm -rf vendor/ composer.lock && composer i"
alias reset="rm -rf node_modules/ package-lock.json && pnpm install"
alias dev="npm run dev"
alias prod="npm run prod"

# Git shortcuts
alias gs="git status"
alias gc="git checkout"
alias gb="git checkout -b"
alias gl="git log --oneline --decorate --color"
alias push="git push"
alias pull="git pull"

# For local services
#alias services="sudo service --status-all"
#alias startphp="sudo service $(get_phpfpm) start"
#alias stopphp="sudo service $(get_phpfpm) stop"
#alias startnginx="sudo service nginx start"
#alias stopnginx="sudo service nginx stop"
#alias startdb="sudo service postgresql start"
#alias stopdb="sudo service postgresql stop"
#alias startredis="sudo service redis-server start"
#alias stopredis="sudo service redis-server stop"
#alias server_start="startphp && startnginx && startdb && startredis"
#alias server_stop="stopphp && stopnginx && stopdb && stopredis"
