#!/usr/bin/env sh

DOTFILES=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)

# ZSH
ln -sf "$DOTFILES/zsh/zshrc" "$HOME/.zshrc"
ln -sf "$DOTFILES/zsh/aliases" "$HOME/.aliases"
ln -sf "$DOTFILES/zsh/p10k.zsh" "$HOME/.p10k.zsh"

# Neovim
rm -rf "$HOME/.config/nvim"
ln -sf "$DOTFILES/nvim" "$HOME/.config/nvim"

# Kitty
rm -rf "$HOME/.config/kitty"
ln -sf "$DOTFILES/kitty" "$HOME/.config/kitty"

# Tmux
rm -rf "$HOME/.tmux.conf"
ln -sf "$DOTFILES/tmux/tmux.conf" "$HOME/.tmux.conf"

# Git
ln -sf "$DOTFILES/git/gitconfig" "$HOME/.gitconfig"
ln -sf "$DOTFILES/git/gitignore_global" "$HOME/.gitignore_global"

# Scripts
rm -rf "{$HOME/.local/bin}"
ln -s "$DOTFILES/bin" "$HOME/.local/bin"

# Oh My ZSH
if [ ! -d "$HOME/.oh-my-zsh" ]; then
    KEEP_ZSHRC=yes sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
else
    echo "Oh My ZSH is already installed!"
fi

sh "$DOTFILES/zsh/install_plugins.sh"